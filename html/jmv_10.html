<div class="container">

<table style="width: 100%;"><tr>
<td>contTables</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Contingency Tables</h2>

<h3>Description</h3>

<p>The X² test of association (not to be confused with the X² goodness of fit) 
is used to test whether two categorical variables are independent or 
associated. If the p-value is low, it suggests the variables are not 
independent, and that there is a relationship between the two variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">contTables(data, rows, cols, counts = NULL, layers = NULL,
  chiSq = TRUE, chiSqCorr = FALSE, zProp = FALSE, likeRat = FALSE,
  fisher = FALSE, contCoef = FALSE, phiCra = FALSE,
  diffProp = FALSE, logOdds = FALSE, odds = FALSE, relRisk = FALSE,
  ci = TRUE, ciWidth = 95, compare = "rows",
  hypothesis = "different", gamma = FALSE, taub = FALSE,
  mh = FALSE, obs = TRUE, exp = FALSE, pcRow = FALSE,
  pcCol = FALSE, pcTot = FALSE, barplot = FALSE, yaxis = "ycounts",
  yaxisPc = "total_pc", xaxis = "xrows", bartype = "dodge", formula)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the data as a data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>the variable to use as the rows in the contingency table (not
necessary when providing a formula, see the examples)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>the variable to use as the columns in the contingency table
(not necessary when providing a formula, see the examples)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counts</code></td>
<td>
<p>the variable to use as the counts in the contingency table
(not necessary when providing a formula, see the examples)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layers</code></td>
<td>
<p>the variables to use to split the contingency table (not
necessary when providing a formula, see the examples)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chiSq</code></td>
<td>
<p><code>TRUE</code> (default) or <code>FALSE</code>, provide X²</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chiSqCorr</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide X² with
continuity correction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zProp</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide a z test for
differences between two proportions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>likeRat</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide the
likelihood ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fisher</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide Fisher's exact
test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contCoef</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide the
contingency coefficient</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phiCra</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide Phi and
Cramer's V</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diffProp</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide the
differences in proportions (only available for 2x2 tables)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logOdds</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide the log odds
ratio (only available for 2x2 tables)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>odds</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide the odds ratio
(only available for 2x2 tables)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relRisk</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide the relative
risk (only available for 2x2 tables)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide confidence
intervals for the comparative measures</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ciWidth</code></td>
<td>
<p>a number between 50 and 99.9 (default: 95), width of the
confidence intervals to provide</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compare</code></td>
<td>
<p><code>columns</code> or <code>rows</code> (default), compare
columns/rows in difference of proportions or relative risks (2x2 tables)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hypothesis</code></td>
<td>
<p><code>'different'</code> (default), <code>'oneGreater'</code> or
<code>'twoGreater'</code>, the alternative hypothesis; group 1 different to group
2, group 1 greater than group 2, and group 2 greater than group 1
respectively</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide gamma</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taub</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide Kendall's tau-b</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mh</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide Mantel-Haenszel
test for trend</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide the observed
counts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exp</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide the expected
counts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pcRow</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide row percentages</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pcCol</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide column
percentages</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pcTot</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide total
percentages</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>barplot</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), show barplots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis</code></td>
<td>
<p>ycounts (default) or ypc. Use respectively <code>counts</code> or
<code>percentages</code> for the bar plot y-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxisPc</code></td>
<td>
<p>total_pc (default), column_pc, or row_pc. Use respectively
percentages <code>of total</code>, <code>within columns</code>, or <code>within rows</code>
for the bar plot y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xaxis</code></td>
<td>
<p>rows (default), or columns in bar plot X axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bartype</code></td>
<td>
<p>stack or side by side (default), barplot type</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>(optional) the formula to use, see the examples</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A results object containing:
</p>

<table>
<tr>
<td style="text-align: left;">
  <code>results$freqs</code> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> a table of proportions </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>results$chiSq</code> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> a table of X² test results </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>results$odds</code> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> a table of comparative measures </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>results$nom</code> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> a table of the 'nominal' test results </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>results$gamma</code> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> a table of the gamma test results </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>results$taub</code> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> a table of the Kendall's tau-b test results </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>results$mh</code> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> a table of the Mantel-Haenszel test for trend </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>results$barplot</code> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> an image </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>Tables can be converted to data frames with <code>asDF</code> or <code>as.data.frame</code>. For example:
</p>
<p><code>results$freqs$asDF</code>
</p>
<p><code>as.data.frame(results$freqs)</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data('HairEyeColor')
dat &lt;- as.data.frame(HairEyeColor)

contTables(formula = Freq ~ Hair:Eye, dat)

#
#  CONTINGENCY TABLES
#
#  Contingency Tables
#  -----------------------------------------------------
#    Hair     Brown    Blue    Hazel    Green    Total
#  -----------------------------------------------------
#    Black       68      20       15        5      108
#    Brown      119      84       54       29      286
#    Red         26      17       14       14       71
#    Blond        7      94       10       16      127
#    Total      220     215       93       64      592
#  -----------------------------------------------------
#
#
#  X² Tests
#  -------------------------------
#          Value    df    p
#  -------------------------------
#    X²      138     9    &lt; .001
#    N       592
#  -------------------------------
#

# Alternatively, omit the left of the formula (`Freq`) if each row
# represents a single observation:

contTables(formula = ~ Hair:Eye, dat)

</code></pre>


</div>