<div class="container">

<table style="width: 100%;"><tr>
<td>jstree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>HTML widget displaying an interactive tree</h2>

<h3>Description</h3>

<p>Create a HTML widget displaying an interactive tree.
</p>


<h3>Usage</h3>

<pre><code class="language-R">jstree(
  nodes,
  elementId = NULL,
  selectLeavesOnly = FALSE,
  checkboxes = FALSE,
  checkWithText = TRUE,
  search = FALSE,
  searchtime = 250,
  dragAndDrop = FALSE,
  dnd = NULL,
  multiple = TRUE,
  types = NULL,
  sort = FALSE,
  unique = FALSE,
  wholerow = FALSE,
  contextMenu = FALSE,
  checkCallback = NULL,
  grid = NULL,
  theme = "default",
  coreOptions = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nodes</code></td>
<td>
<p>data, a list of nodes; each node is a list with a required
field <code>text</code>, a character string labeling the node, and optional
fields
</p>

<dl>
<dt><code>children</code></dt>
<dd>
<p>a list of nodes
</p>
</dd>
<dt><code>data</code></dt>
<dd>
<p>a named list of data to attach to the node; see the
Shiny examples
</p>
</dd>
<dt><code>icon</code></dt>
<dd>
<p>space-separated HTML class names defining an icon, e.g.
<code>"glyphicon glyphicon-flash"</code> or <code>"fa fa-folder"</code>;
one can also get an icon from an image file in a Shiny app, see the
<em>imageIcon</em> Shiny example;
you can also use a super tiny icon, e.g. <code>"supertinyicon-julia"</code>;
see the <em>SuperTinyIcons</em>
Shiny example showing all available
such icons
</p>
</dd>
<dt><code>type</code></dt>
<dd>
<p>a character string for usage with the <code>types</code> option; see first
example
</p>
</dd>
<dt><code>state</code></dt>
<dd>
<p>a named list defining the state of the node, with four possible fields,
each being <code>TRUE</code> or <code>FALSE</code>:
</p>

<dl>
<dt><code>opened</code></dt>
<dd>
<p>whether the node should be initially opened
</p>
</dd>
<dt><code>selected</code></dt>
<dd>
<p>whether the node should be initially selected
</p>
</dd>
<dt><code>disabled</code></dt>
<dd>
<p>whether the node should be disabled
</p>
</dd>
<dt><code>checked</code></dt>
<dd>
<p>whether the node should be initially checked, effective
only when the <code>checkboxes</code> option is <code>TRUE</code>
</p>
</dd>
</dl>
</dd>
<dt><code>a_attr</code></dt>
<dd>
<p>a named list of attributes for the node label, such as
<code>list(title = "I'm a tooltip", style = "color: red;")</code>
</p>
</dd>
<dt><code>li_attr</code></dt>
<dd>
<p>a named list of attributes for the whole node, including its children,
such as
<code>list(title = "I'm a tooltip", style = "background-color: pink;")</code>
</p>
</dd>
</dl>
<p>There are some alternatives for the <code>nodes</code> argument;
see <a href="https://github.com/vakata/jstree/wiki#populating-the-tree-using-ajax">Populating the tree using AJAX</a>,
<a href="https://github.com/vakata/jstree/wiki#populating-the-tree-using-ajax-and-lazy-loading-nodes">Populating the tree using AJAX and lazy loading nodes</a>
and <a href="https://github.com/vakata/jstree/wiki#populating-the-tree-using-a-callback-function">Populating the tree using a callback function</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elementId</code></td>
<td>
<p>a HTML id for the widget (useless for common usage)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selectLeavesOnly</code></td>
<td>
<p>logical, for usage in Shiny, whether to get only
selected leaves</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkboxes</code></td>
<td>
<p>logical, whether to enable checkboxes next to each node;
this makes easier the selection of multiple nodes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkWithText</code></td>
<td>
<p>logical, whether the checkboxes must be selected when
clicking on the text of a node</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>search</code></td>
<td>
<p>either a logical value, whether to enable the search
functionality with default options, or a named list of options for the
search functionality; see the <em>SuperTinyIcons</em>
Shiny example
and the <a href="https://www.jstree.com/api/">jsTree API documentation</a> for
the list of possible options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>searchtime</code></td>
<td>
<p>currently ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dragAndDrop</code></td>
<td>
<p>logical, whether to allow the rearrangement of the nodes
by dragging and dropping</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dnd</code></td>
<td>
<p>a named list of options related to the drag-and-drop
functionality, e.g. the <code>is_draggable</code> function to define which nodes
are draggable; see the first example and the
<a href="https://www.jstree.com/api/">jsTree API documentation</a> for the list
of possible options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiple</code></td>
<td>
<p>logical, whether to allow multiselection</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>types</code></td>
<td>
<p>a named list of node properties; see first example</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>logical, whether to sort the nodes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unique</code></td>
<td>
<p>logical, whether to ensure that no node label is duplicated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wholerow</code></td>
<td>
<p>logical, whether to highlight whole selected rows</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contextMenu</code></td>
<td>
<p>either a logical value, whether to enable a context menu
to create/rename/delete/cut/copy/paste nodes, or a list of options; see
the <a href="https://www.jstree.com/api/">jsTree API documentation</a> for the
possible options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkCallback</code></td>
<td>
<p>either <code>TRUE</code> to allow to perform some actions
such as creating a new node, or a JavaScript function; see the example
where this option is used to define restrictions on the drag-and-drop
behavior</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p>list of settings for the grid; see the second example, the
<em>grid</em> Shiny example, and the web page
<a href="https://github.com/deitch/jstree-grid/#options">github.com/deitch/jstree-grid</a>
for the list of all available options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theme</code></td>
<td>
<p>jsTree theme, one of <code>"default"</code>,
<code>"default-dark"</code>, or <code>"proton"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coreOptions</code></td>
<td>
<p>a named list of core options, for advanced usage</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>htmlwidget</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># example illustrating the 'dnd' and 'checkCallback' options ####

library(jsTreeR)

nodes &lt;- list(
  list(
    text = "RootA",
    type = "root",
    children = list(
      list(
        text = "ChildA1",
        type = "child"
      ),
      list(
        text = "ChildA2",
        type = "child"
      )
    )
  ),
  list(
    text = "RootB",
    type = "root",
    children = list(
      list(
        text = "ChildB1",
        type = "child"
      ),
      list(
        text = "ChildB2",
        type = "child"
      )
    )
  )
)

types &lt;- list(
  root = list(
    icon = "glyphicon glyphicon-ok"
  ),
  child = list(
    icon = "glyphicon glyphicon-file"
  )
)

checkCallback &lt;- JS(
  "function(operation, node, parent, position, more) {",
  "  if(operation === 'move_node') {",
  "    if(parent.id === '#' || parent.type === 'child') {",
  "      return false;", # prevent moving a child above or below the root
  "    }",               # and moving inside a child
  "  }",
  "  return true;", # allow everything else
  "}"
)

dnd &lt;- list(
  is_draggable = JS(
    "function(node) {",
    "  return node[0].type === 'child';",
    "}"
  )
)

jstree(
  nodes,
  dragAndDrop = TRUE, dnd = dnd,
  types = types,
  checkCallback = checkCallback
)


# example illustrating the 'grid' option ####

library(jsTreeR)

nodes &lt;- list(
  list(
    text = "Products",
    children = list(
      list(
        text = "Fruit",
        children = list(
          list(
            text = "Apple",
            data = list(
              price = 0.1,
              quantity = 20
            )
          ),
          list(
            text = "Banana",
            data = list(
              price = 0.2,
              quantity = 31
            )
          ),
          list(
            text = "Grapes",
            data = list(
              price = 1.99,
              quantity = 34
            )
          ),
          list(
            text = "Mango",
            data = list(
              price = 0.5,
              quantity = 8
            )
          ),
          list(
            text = "Melon",
            data = list(
              price = 0.8,
              quantity = 4
            )
          ),
          list(
            text = "Pear",
            data = list(
              price = 0.1,
              quantity = 30
            )
          ),
          list(
            text = "Strawberry",
            data = list(
              price = 0.15,
              quantity = 32
            )
          )
        ),
        state = list(
          opened = TRUE
        )
      ),
      list(
        text = "Vegetables",
        children = list(
          list(
            text = "Aubergine",
            data = list(
              price = 0.5,
              quantity = 8
            )
          ),
          list(
            text = "Broccoli",
            data = list(
              price = 0.4,
              quantity = 22
            )
          ),
          list(
            text = "Carrot",
            data = list(
              price = 0.1,
              quantity = 32
            )
          ),
          list(
            text = "Cauliflower",
            data = list(
              price = 0.45,
              quantity = 18
            )
          ),
          list(
            text = "Potato",
            data = list(
              price = 0.2,
              quantity = 38
            )
          )
        )
      )
    ),
    state = list(
      opened = TRUE
    )
  )
)

grid &lt;- list(
  columns = list(
    list(
      width = 200,
      header = "Name"
    ),
    list(
      width = 150,
      value = "price",
      header = "Price"
    ),
    list(
      width = 150,
      value = "quantity",
      header = "Qty"
    )
  ),
  width = 600
)

jstree(nodes, grid = grid)


# example illustrating custom context menu ####

library(jsTreeR)

customMenu &lt;- JS("function customMenu(node)
{
  var tree = $('#mytree').jstree(true);
  var items = {
    'rename' : {
      'label' : 'Rename',
      'action' : function (obj) { tree.edit(node); },
      'icon': 'glyphicon glyphicon-edit'
    },
    'delete' : {
      'label' : 'Delete',
      'action' : function (obj) { tree.delete_node(node); },
      'icon' : 'glyphicon glyphicon-trash'
    },
    'create' : {
      'label' : 'Create',
      'action' : function (obj) { tree.create_node(node); },
      'icon': 'glyphicon glyphicon-plus'
    }
  }
  return items;
}")

nodes &lt;- list(
  list(
    text = "RootA",
    children = list(
      list(
        text = "ChildA1"
      ),
      list(
        text = "ChildA2"
      )
    )
  ),
  list(
    text = "RootB",
    children = list(
      list(
        text = "ChildB1"
      ),
      list(
        text = "ChildB2"
      )
    )
  )
)

jstree(
  nodes, checkCallback = TRUE, elementId = "mytree",
  contextMenu = list(items = customMenu)
)
</code></pre>


</div>